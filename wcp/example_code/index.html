<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Ready-to-use example in PHP :: QENTA Online Guides</title>
    <link rel="canonical" href="https://guides.qenta.com/online-guides/main/wcp/example_code/">
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="/_/css/site.css">
<link rel="stylesheet" href="/_/css/search.css">
<link rel="stylesheet" href="/_/css/qenta.css">
<link rel="stylesheet" href="https://use.typekit.net/ucf2gvc.css">
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script>var uiRootPath = '/_'</script>
    <link rel="icon" href="/_/img/Favicon-QENTA-RGB.png" type="image/png">
  </head>
  <body class="article">
<header class="header" role="banner">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://guides.qenta.com">QENTA Online Guides</a>
        <div class="navbar-item search-item">
          <input id="search-input" type="text" placeholder="Search">
        </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item is-hoverable">
          <a class="navbar-link" href="https://qenta-cee.at/">Enterprise</a>
        </div>
        <div class="navbar-item is-hoverable">
          <a class="navbar-link" href="https://qenta-cee.at/haendler-login/">Merchant Login</a>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="https://guides.qenta.com/contact/">Contact</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="online-guides" data-version="main">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../">QENTA Online Guides</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../start/">Home</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../news/start/">What&#8217;s New?</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../start/">QPAY Checkout Page</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../wcs/start/">QMORE Checkout Seamless</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../back-end_operations/start/">Back-end Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../payment_methods/start/">Integration of Payment Methods</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../shop_plugins/start/">Integration into Shop Systems</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Card Payments</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../payment_methods/creditcard/start/">Credit Card</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../payment_methods/3dsecure2/start/">3D Secure 2</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../payment_methods/ccard_moto/start/">Mail and Telephone Order</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../payment_methods/maestro/start/">Maestro SecureCode</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../payment_methods/masterpass/start/">Masterpass</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Bank Transfer</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../payment_methods/bancontact_mrcash/start/">Bancontact</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../payment_methods/eps/start/">eps-Überweisung</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../payment_methods/giropay/start/">giropay</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../payment_methods/ideal/start/">iDEAL</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../payment_methods/poli/start/">POLi</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../payment_methods/p24/start/">Przelewy24</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../payment_methods/sofort/start/">Sofort.</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../payment_methods/tatrapay/start/">TatraPay</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../payment_methods/trustly/start/">Trustly</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../payment_methods/trustpay/start/">TrustPay</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Alternative Payments</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../payment_methods/epaybg/start/">ePay.bg</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../payment_methods/invoice/start/">Invoice</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../payment_methods/invoice/payolution/">payolution</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../payment_methods/invoice/ratepay/">RatePAY</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../payment_methods/invoice/wirecard/">Wirecard</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../payment_methods/installment/start/">Installment</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../payment_methods/installment/payolution/">payolution</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../payment_methods/installment/ratepay/">RatePAY</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../payment_methods/moneta/start/">moneta.ru</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../payment_methods/paypal/start/">PayPal</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../payment_methods/paysafecard/start/">paysafecard</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../payment_methods/skrill_digital/start/">Skrill Digital Wallet</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Direct Debit</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../payment_methods/sepa_direct_debit/start/">SEPA Direct Debit</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Mobile Payments</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../payment_methods/paybox/start/">paybox</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../wca/start/">QFILE Checkout Automated</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../wct/start/">QCALL Checkout Terminal</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../pmc/start/">QPC Payment Center</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../how_to/start/">How to &#8230;&#8203;</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../glossary/">Glossary</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../contact/">Contact</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">QENTA Online Guides</span>
    <span class="version">main</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../../">QENTA Online Guides</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../">main</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../start/" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../">QENTA Online Guides</a></li>
    <li><a href="./">Ready-to-use example in PHP</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Ready-to-use example in PHP</h1>
<div class="sect1">
<h2 id="ReadytouseExampleInPhp"><a class="anchor" href="#ReadytouseExampleInPhp"></a>Ready-to-use example in PHP</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To explain the implementation details, we offer a minimalistic example implemented in PHP, which guides you through the steps you need to perform in the source code of your online shop. Please visit <a href="https://php.net" class="bare">https://php.net</a> for further information and details on PHP.</p>
</div>
<div class="paragraph">
<p>Prior to downloading the example ensure that the web server on which you want to install the example is accessible from the Internet via port 80 (for http communication) or port 443 (for https communication) and is not hosted on a local server which does not allow access to the Wirecard Checkout Server for the purpose of testing the example.</p>
</div>
<div class="sect2">
<h3 id="TestingTheExample"><a class="anchor" href="#TestingTheExample"></a>Testing the example</h3>
<div class="paragraph">
<p>In order to test the example, perform the following steps:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Please download the example code: <a href="/_attachments/wcp/wirecard_checkout_page_example.zip">wirecard_checkout_page_example.zip</a> (MD5 hash: F3B5B309F5C867907C1FED1A1564CF18) to your computer.</p>
</li>
<li>
<p>Unzip the file on your computer.</p>
</li>
<li>
<p>Transfer the unzipped folder via ftp or sftp to your web server which can be accessed via port 80 (http for testing only) or port 443 (https for testing and production mode).</p>
</li>
<li>
<p>Open your favorite web browser and browse to the uploaded folder on your web server.</p>
</li>
<li>
<p>Depending on the configuration of your web server with regard to the handling of index-files and php-files, open the index.php file if it is not already opened.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Do not use your local host for testing the example code because it is typically not available from the Internet which is required for the <code>confirmUrl</code>!
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If you have any troubles getting the example up and running, please check if your web server has PHP properly installed and configured.</p>
</div>
<div class="paragraph">
<p>If you still have problems getting the example up and running, please do not hesitate to contact our <a href="../../support/" class="page">support teams</a>.</p>
</div>
<div class="paragraph">
<p>The relevant details of this example are explained in the following sections:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>File for configuration values.</p>
</li>
<li>
<p>File for starting the payment process.</p>
</li>
<li>
<p>File for receiving and storing the payment process result.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="FileForConfigurationValues"><a class="anchor" href="#FileForConfigurationValues"></a>File for configuration values</h3>
<div class="paragraph">
<p><strong>File: <code>includes/config.inc.php</code></strong></p>
</div>
<div class="paragraph">
<p>The necessary configuration values are defined in a configuration file. This file is included in the other PHP files which depend on these values.</p>
</div>
<div class="paragraph">
<p>Creating a separate file for these variables enables the use of the values for starting the payment process and also for retrieving and verifying the result of the payment process. Additionally we strongly encourage you to move this configuration file containing the secret to a folder on your web server where it cannot be accessed from outside!</p>
</div>
<div class="paragraph">
<p>When closing the contract change the specific parameters you received from our support teams after closing the contract in the configuration file.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Please keep the file(s) where your secret is defined in a folder which cannot be accessed from users accessing your web server.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="FileForStartingThePaymentProcess"><a class="anchor" href="#FileForStartingThePaymentProcess"></a>File for starting the payment process</h3>
<div class="paragraph">
<p><strong>File: <code>index.php</code></strong></p>
</div>
<div class="paragraph">
<p>The required and optional request parameters used for the specific payment process are defined in a different file . Please have a look at <a href="../../request_parameters/" class="page">Request parameters</a> for more details on the parameters which can be defined. These parameters are then used as hidden fields in the HTML-form which is presented to the consumer of your online shop.</p>
</div>
<div class="paragraph">
<p>Your consumer may then select one of the offered payment methods and start the payment process by submitting the values to Wirecard Checkout Page. If all required parameters are set and the fingerprint is verified, the payment process is started and your consumer is guided through the process.</p>
</div>
</div>
<div class="sect2">
<h3 id="FileForReceivingAndStoringThePaymentProcessResult"><a class="anchor" href="#FileForReceivingAndStoringThePaymentProcessResult"></a>File for receiving and storing the payment process result</h3>
<div class="paragraph">
<p><strong>File: <code>return.php</code></strong></p>
</div>
<div class="paragraph">
<p>The PHP file for receiving and storing the result of the payment process for your online shop is called by Wirecard Checkout Page. We strongly recommend that you use the possibility to set the optional request parameter <code>confirmUrl</code> so that you are able to store the result independently of the behavior of your consumer during the redirect to the <code>successUrl</code>, <code>cancelUrl</code>, <code>pendingUrl</code> or <code>failureUrl</code>.</p>
</div>
<div class="paragraph">
<p><strong>File <code>confirm.php</code></strong></p>
</div>
<div class="paragraph">
<p>The <code>confirmUrl</code> is called by Wirecard informing your online shop about the result of the payment process.</p>
</div>
<div class="paragraph">
<p>This file consists of the following functional steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Including the previously created and already used configuration file.</p>
</li>
<li>
<p>Executing the function <code>handleCheckoutResult</code>. This function</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Checks the availability of the return parameter <code>paymentState</code>.</p>
</li>
<li>
<p>If the resulting state is "SUCCESS" or "PENDING" validates the response parameters with the function <code>areReturnParametersValid</code> which</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>creates a fingerprint based on the parameter order as given in the return parameter <code>responseFingerprintOrder</code> and the values of all mentioned values in it.</p>
</li>
<li>
<p>compares the value of the return parameter <code>responseFingerprint</code> and the computed fingerprint.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Writes the results and the response parameter and their values into the file <code>confirmation.log</code>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="AdditionalFiles"><a class="anchor" href="#AdditionalFiles"></a>Additional files</h3>
<div class="paragraph">
<p>Please also use the additional files in the example package for testing purposes and replace them later with your specific content:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">File name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ui/logo.png</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Your logo of your online shop which will be displayed on the Wirecard Checkout Page.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">service.html</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This HTML page is shown to your consumer, when your consumer clicks on your logo.png within the Wirecard Checkout Page.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer qenta">
  <div class="uk-section-secondary uk-section">
    <div class="uk-container">
      <div class="tm-grid-expand uk-grid-large uk-grid-margin-large uk-grid" uk-grid="">
        <div class="uk-width-1-3@m uk-first-column">
          <div class="uk-position-relative uk-margin" style="left: 0px; bottom: 20px;">
            <a class="el-link" href="#2" uk-scroll=""><img class="el-image" alt=""
                data-src="/wp-content/uploads/2020/10/RZ-Logo-QENTA-CMYK-invertiert.svg" uk-img=""
                src="https://qenta-cee.at/wp-content/uploads/2020/10/RZ-Logo-QENTA-CMYK-invertiert.svg" width="120"></a>
          </div>
          <div class="uk-panel uk-text-meta uk-position-relative" style="bottom: 20px;">
            <p>©2020 - QENTA PAYMENT CEE GMBH</p>
          </div>
        </div>
        <div class="uk-width-2-3@m">
          <div class="uk-text-right">
            <ul class="uk-margin-remove-bottom uk-subnav uk-flex-right" uk-margin="">
              <li class="el-item uk-first-column">
                <a class="el-link" href="https://qenta-cee.at/">Unternehmen</a>
              </li>
              <li class="el-item">
                <a class="el-link" href="https://qenta-cee.at/haendler-login">Händler-Login</a>
              </li>
              <li class="el-item">
                <a class="el-link" href="https://qenta-cee.at/loesungen">Lösungen</a>
              </li>
              <li class="el-item">
                <a class="el-link" href="https://qenta-cee.at/kontakt">Kontakt</a>
              </li>
              <li class="el-item">
                <a class="el-link" href="https://qenta-cee.at/karriere">Karriere</a>
              </li>
              <li class="el-item">
                <a class="el-link" href="https://qenta-cee.at/start" target="_blank">Online Guides</a>
              </li>
              <li class="el-item">
                <a class="el-link" href="https://qenta-cee.at/download-center">Download Center</a>
              </li>
            </ul>
          </div>
          <div class="uk-text-right">
            <ul class="uk-margin-remove-bottom uk-subnav uk-flex-right" uk-margin="">
              <li class="el-item uk-first-column">
                <a class="el-link" href="https://qenta-cee.at/impressum">Impressum</a>
              </li>
              <li class="el-item">
                <a class="el-link" href="https://qenta-cee.at/datenschutz">Datenschutz</a>
              </li>
              <li class="el-item">
                <a class="el-link" href="https://qenta-cee.at/agb">AGB</a>
              </li>
              <li class="el-item">
                <a class="el-link" href="https://qenta-cee.at/dpa">DPA</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</footer>
<script src="/_/js/site.js"></script>
<script src="/_/js/vendor/lunr.js"></script>
<script src="/_/js/vendor/search.js" id="search-script" data-base-path="../../../.." data-page-path="/online-guides/main/wcp/example_code/"></script>
<script async src="/search-index.js"></script>
<script async src="/_/js/vendor/highlight.js"></script>
  </body>
</html>
